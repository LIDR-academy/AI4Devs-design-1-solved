###  **Brainstorming - LTI (Applicant-Tracking System del futuro)**

#### **üîç 1. ¬øQu√© hace diferente a LTI de otros ATS? (Propuesta de valor √∫nica)**

- **IA predictiva para reclutamiento**: No solo filtra hojas de vida, sino que predice qu√© candidatos tienen m√°s probabilidad de √©xito seg√∫n el historial de contrataciones previas.
- **Generaci√≥n autom√°tica de ofertas de trabajo**: Basada en la descripci√≥n de la empresa, IA redacta la oferta de empleo optimizada.
- **Seguimiento automatizado de candidatos**: Notifica al reclutador y al candidato sobre el estado del proceso sin intervenci√≥n manual.
- **Evaluaci√≥n de soft skills con IA**: Simulaciones de entrevistas con IA que analizan comunicaci√≥n, liderazgo y resoluci√≥n de problemas.
- **Match entre cultura organizacional y candidato**: Un motor de recomendaciones que sugiere candidatos con base en la cultura de la empresa.

---

#### **üë• 2. ¬øC√≥mo mejora la experiencia del usuario? (Reclutadores & Candidatos)**

- **Chatbot de IA** que responde dudas frecuentes de candidatos sobre la oferta.
- **Dashboard intuitivo** con visualizaci√≥n en tiempo real del estado de cada candidato.
- **Entrevistas automatizadas con IA** donde el sistema eval√∫a respuestas y lenguaje corporal.
- **Gamificaci√≥n del proceso**: Ranking de candidatos basado en puntajes de pruebas y feedback de reclutadores.
- **Feedback instant√°neo**: Los candidatos reciben retroalimentaci√≥n autom√°tica en cada etapa.

---

#### **ü§ñ 3. ¬øC√≥mo aprovechamos la automatizaci√≥n?**

- **Asignaci√≥n autom√°tica de tareas a reclutadores** seg√∫n carga de trabajo.
- **Notificaciones inteligentes** para evitar que procesos se estanquen.
- **Generaci√≥n de reportes autom√°ticos** con m√©tricas clave de contrataci√≥n.
- **An√°lisis de tendencias** en contrataci√≥n para predecir necesidades futuras.
- **Validaci√≥n autom√°tica de referencias laborales** contactando ex empleadores v√≠a API.

---

#### **üí° 4. ¬øQu√© tecnolog√≠a utilizar√≠amos?**

- **Backend**: Node.js con Prisma para optimizar la base de datos.
- **Frontend**: React con TailwindCSS para una UI moderna y responsiva.
- **Base de datos**: PostgreSQL con GraphQL para consultas eficientes.
- **IA**: OpenAI para chatbots y modelos de clasificaci√≥n de candidatos.
- **Infraestructura**: AWS con Docker para escalabilidad.

---

#### **ü§ë 5. ¬øC√≥mo se monetiza?**

- **Modelo SaaS con suscripci√≥n mensual** para empresas.
- **Planes freemium** con l√≠mite de publicaciones y candidatos.
- **Cobro por reclutador activo en el sistema**.
- **Comisi√≥n por contrataci√≥n exitosa** (opcional).
- **Integraci√≥n con LinkedIn y otros portales de empleo** para atraer m√°s empresas.


## **üìú  Lean Canvas - LTI (Applicant-Tracking System del Futuro)**

### **1Ô∏è‚É£ Problema üö®**

Los reclutadores enfrentan dificultades para:

- Filtrar y gestionar gran volumen de candidatos de manera eficiente.
- Evaluar no solo habilidades t√©cnicas, sino tambi√©n soft skills y compatibilidad cultural.
- Mantener un flujo de comunicaci√≥n transparente con los candidatos.
- Evitar sesgos en la selecci√≥n y mejorar la calidad de la contrataci√≥n.

### **2Ô∏è‚É£ Segmento de Clientes üéØ**

üë• **Empresas y reclutadores**

- Startups en crecimiento que necesitan talento r√°pido.
- Empresas medianas y grandes con alto volumen de contrataciones.
- Consultoras de RRHH que manejan m√∫ltiples procesos de selecci√≥n.

üë§ **Candidatos**

- Profesionales en b√∫squeda de empleo que desean procesos m√°s √°giles y transparentes.

### **3Ô∏è‚É£ Propuesta de Valor üíé**

‚úî **IA Predictiva**: Matching inteligente basado en datos hist√≥ricos y soft skills.  
‚úî **Automatizaci√≥n Total**: Reducci√≥n del trabajo manual con flujos autom√°ticos.  
‚úî **Entrevistas con IA**: An√°lisis de comunicaci√≥n y lenguaje corporal con IA.  
‚úî **Seguimiento Inteligente**: Dashboard con estados en tiempo real para candidatos y reclutadores.  
‚úî **Evaluaci√≥n Cultural**: Sugerencia de candidatos seg√∫n fit cultural con la empresa.  
‚úî **Generaci√≥n de ofertas de empleo optimizadas con IA**.

### **4Ô∏è‚É£ Soluci√≥n üõ†Ô∏è**

üîπ **ATS potenciado con IA** que permite gestionar todo el ciclo de contrataci√≥n.  
üîπ **Dashboard intuitivo** para reclutadores con m√©tricas de contrataci√≥n.  
üîπ **Automatizaci√≥n de tareas** como preselecci√≥n, notificaciones y validaciones.  
üîπ **Gamificaci√≥n del proceso** para motivar a los candidatos y mejorar engagement.

### **5Ô∏è‚É£ Canales de Adquisici√≥n üì¢**

üìå **B2B**:

- LinkedIn Ads dirigidos a RRHH.
- Eventos y ferias de empleo.
- Webinars y contenido en blogs especializados.
- Integraciones con LinkedIn y portales de empleo.

üìå **B2C (Candidatos)**:

- Publicidad en redes sociales con casos de √©xito.
- SEO en Google Jobs y plataformas de empleo.
- Referidos por candidatos contratados con √©xito.

### **6Ô∏è‚É£ Ventaja Competitiva üöÄ**

üî• **IA personalizada**: No es solo un ATS tradicional, sino que aprende de cada proceso.  
üî• **Automatizaci√≥n extrema**: Menos trabajo manual, m√°s enfoque en lo estrat√©gico.  
üî• **Enfoque en Soft Skills**: Va m√°s all√° del CV, analizando compatibilidad real.  
üî• **Integraci√≥n con otras herramientas de RRHH**: No requiere cambiar infraestructura existente.

### **7Ô∏è‚É£ Modelo de Ingresos üí∞**

üíµ **Modelo SaaS con suscripci√≥n mensual** seg√∫n el n√∫mero de reclutadores.  
üíµ **Planes freemium** con funciones limitadas para startups.  
üíµ **Cobro por contrataci√≥n exitosa** (opcional).  
üíµ **API de integraci√≥n** con plataformas de empleo para ventas adicionales.

### **8Ô∏è‚É£ Estructura de Costos üí∏**

üõ†Ô∏è Infraestructura en la nube (AWS o GCP).  
ü§ñ Licencias de IA (OpenAI, Hugging Face, etc.).  
üë®‚Äçüíª Desarrollo y mantenimiento de la plataforma.  
üì¢ Publicidad y adquisici√≥n de usuarios.  
üìä Soporte y servicio al cliente.

---


### **üìå Diagramas

üî∑ Diagrama de Arquitectura General

Escog√≠ junto con Argemiro **Mermaid**. ¬øPor qu√©?

‚úÖ **Sintaxis sencilla y f√°cil de leer**  
‚úÖ **Integraci√≥n con Markdown** _(lo puedes usar en GitHub, Notion, VS Code, etc.)_  
‚úÖ **Visualizaci√≥n r√°pida sin necesidad de instalar herramientas extras**  
‚úÖ **Ideal para flujo de usuario, secuencia y diagramas de arquitectura simples**

`graph TD;`
    `A[Usuario] -->|Inicia sesi√≥n| B[Dashboard Reclutador];`
    `B -->|A√±adir Candidato| C[Formulario Candidato];`
    `C -->|Validaci√≥n y Guardado| D[(Base de Datos)];`
    `D -->|Notificaci√≥n| E[Email/Notificaci√≥n en App];`
    `B -->|Ver Candidatos| F[Listado de Candidatos];`
    `F -->|Seleccionar| G[Perfil del Candidato];`
    `G -->|Evaluaci√≥n con IA| H[Motor de Evaluaci√≥n];`
    `H -->|Genera Reporte| I[Reporte de Evaluaci√≥n];`
    `I -->|Feedback al Reclutador| B;`

![[Pasted image 20250316225805.png]]




Para el **modelo de datos**, podemos usar **dbdiagram.io** o **PlantUML**, ya que son m√°s adecuados para diagramas entidad-relaci√≥n.

üìä Diagrama de Modelo de Datos (Entidad-Relaci√≥n)

`erDiagram`
    `CANDIDATO {`
        `int id`
        `string nombre`
        `string apellido`
        `string email`
        `string telefono`
        `string direccion`
        `string educacion`
        `string experiencia`
    `}`
    `RECLUTADOR {`
        `int id`
        `string nombre`
        `string email`
        `string empresa`
    `}`
    `EVALUACION {`
        `int id`
        `int candidato_id`
        `int reclutador_id`
        `date fecha`
        `string resultado`
    `}`
    `CANDIDATO ||--o{ EVALUACION : participa`
    `RECLUTADOR ||--o{ EVALUACION : realiza`
    
![[Pasted image 20250316225958.png]]

üîÑ Diagrama de Flujo del Usuario
graph LR;
    A[Reclutador Inicia Sesi√≥n] --> B[Accede al Dashboard];
    B -->|A√±adir Candidato| C[Formulario de Registro];
    C -->|Env√≠a Datos| D[(Base de Datos)];
    D -->|Guarda Informaci√≥n| E[Confirmaci√≥n];
    E -->|Muestra en Dashboard| B;
    B -->|Selecciona Candidato| F[Perfil del Candidato];
    F -->|Inicia Evaluaci√≥n| G[Motor de IA];
    G -->|Genera Reporte| H[Resultado Evaluaci√≥n];
    H -->|Notifica Reclutador| B;

![[Pasted image 20250316230141.png]]


üì© Diagrama de Secuencia

sequenceDiagram
    participant R as Reclutador
    participant S as Sistema LTI
    participant DB as Base de Datos
    participant IA as Motor de IA

    R->>S: A√±adir Candidato
    S->>DB: Guarda datos candidato
    DB-->>S: Confirmaci√≥n guardado
    S->>IA: Evaluaci√≥n de Candidato
    IA-->>S: Resultado Evaluaci√≥n
    S->>R: Muestra Feedback en Dashboard

![[Pasted image 20250316230214.png]]

### **Diagrama de Infraestructura con `Diagrams` en Python**

Este diagrama representar√° la arquitectura de nuestro sistema, con backend, frontend y base de datos conectados.

python

`from diagrams import Diagram, Cluster`
`from diagrams.aws.compute import EC2`
`from diagrams.aws.database import RDS`
`from diagrams.aws.network import ELB`
`from diagrams.onprem.client import User`
`from diagrams.onprem.container import Docker`

`with Diagram("Infraestructura del Proyecto LTI", show=False):`
    `usuario = User("Reclutador")`

    `with Cluster("Frontend"):`
        `frontend = Docker("React App")`

    `with Cluster("Backend"):`
        `backend = Docker("Node.js API")`

    `db = RDS("Base de Datos PostgreSQL")`

    `usuario >> frontend >> backend >> db`


(ESTE ME FALTO, NO MOLESTO MUCHO PYTHON EN INSTALAR)
### **Diagrama de Roadmap (Gantt) con Mermaid**

Este diagrama de Gantt muestra el cronograma del desarrollo.

mermaid

`gantt`
    `title Roadmap del Proyecto LTI`
    `dateFormat  YYYY-MM-DD`
    `section Backend`
    `Configuraci√≥n de Base de Datos: done, 2025-03-01, 2025-03-02`
    `API para Candidatos: active, 2025-03-03, 2025-03-06`
    `Validaciones y Seguridad: 2025-03-07, 2025-03-10`
    `section Frontend`
    `Dise√±o de Formulario: 2025-03-02, 2025-03-04`
    `Integraci√≥n con API: 2025-03-05, 2025-03-08`
    `Pruebas y Ajustes: 2025-03-09, 2025-03-11`

![[Pasted image 20250316233656.png]]


### üöÄ **Definici√≥n de Tickets de Trabajo**

Ahora estructuraremos las tareas del proyecto en **tickets** siguiendo un enfoque √°gil. Esto nos permitir√° organizar el trabajo de forma eficiente.

---

## **üìù Definici√≥n de Tickets de Trabajo**

Vamos a dividir las tareas en tres secciones: **Backend, Frontend y Base de Datos**.

Cada ticket tendr√°:

- **T√≠tulo**
- **Descripci√≥n**
- **Criterios de aceptaci√≥n**
- **Prioridad**
- **Tiempo estimado**

---

### **üìå Backend**

1Ô∏è‚É£ **[API] Crear Endpoint para A√±adir Candidato**  
**üìÑ Descripci√≥n:** Implementar un endpoint en Express para recibir la informaci√≥n del formulario y guardarla en la base de datos.  
**‚úÖ Criterios de Aceptaci√≥n:**

- Recibir datos v√°lidos del candidato (nombre, apellido, email, tel√©fono, direcci√≥n, educaci√≥n, experiencia).
- Guardar la informaci√≥n en PostgreSQL usando Prisma.
- Retornar un mensaje de confirmaci√≥n.
- Manejo de errores y validaciones.  
    **üî• Prioridad:** Alta  
    **‚è≥ Tiempo Estimado:** 4 horas

2Ô∏è‚É£ **[Validaci√≥n] Middleware para Validar Datos del Candidato**  
**üìÑ Descripci√≥n:** Crear middleware en Express que valide los datos antes de enviarlos a la base de datos.  
**‚úÖ Criterios de Aceptaci√≥n:**

- Validar formato de email.
- Asegurar que los campos obligatorios est√©n llenos.
- Retornar errores espec√≠ficos en caso de datos inv√°lidos.  
    **üî• Prioridad:** Alta  
    **‚è≥ Tiempo Estimado:** 3 horas

3Ô∏è‚É£ **[Subida de archivos] Implementar carga de CV**  
**üìÑ Descripci√≥n:** Permitir que el reclutador suba archivos en PDF o DOCX al sistema.  
**‚úÖ Criterios de Aceptaci√≥n:**

- Guardar los archivos en el servidor o en almacenamiento en la nube.
- Asociar el archivo con el candidato en la BD.
- Validar tipo de archivo y tama√±o m√°ximo.  
    **üî• Prioridad:** Media  
    **‚è≥ Tiempo Estimado:** 5 horas

---

### **üé® Frontend**

4Ô∏è‚É£ **[UI] Dise√±ar el Formulario de Candidato**  
**üìÑ Descripci√≥n:** Crear el formulario en React con los campos necesarios.  
**‚úÖ Criterios de Aceptaci√≥n:**

- Debe incluir todos los campos requeridos.
- Dise√±o responsivo y accesible.
- Bot√≥n de env√≠o con estado de carga.  
    **üî• Prioridad:** Alta  
    **‚è≥ Tiempo Estimado:** 4 horas

5Ô∏è‚É£ **[Conexi√≥n API] Enviar datos del Formulario al Backend**  
**üìÑ Descripci√≥n:** Implementar una funci√≥n en React que env√≠e los datos al backend usando fetch o Axios.  
**‚úÖ Criterios de Aceptaci√≥n:**

- Capturar datos del formulario y enviarlos al backend.
- Manejar respuestas del servidor (√©xito o error).
- Mostrar mensajes de √©xito o error al usuario.  
    **üî• Prioridad:** Alta  
    **‚è≥ Tiempo Estimado:** 3 horas

6Ô∏è‚É£ **[UI] Implementar Vista de Confirmaci√≥n**  
**üìÑ Descripci√≥n:** Mostrar un mensaje de confirmaci√≥n cuando el candidato se a√±ada con √©xito.  
**‚úÖ Criterios de Aceptaci√≥n:**

- Mostrar modal o alerta de √©xito.
- Ofrecer opci√≥n para a√±adir otro candidato o regresar al dashboard.  
    **üî• Prioridad:** Media  
    **‚è≥ Tiempo Estimado:** 2 horas

---

### **üóÑÔ∏è Base de Datos**

7Ô∏è‚É£ **[Modelo Prisma] Definir Esquema de Datos en Prisma**  
**üìÑ Descripci√≥n:** Crear el esquema del candidato en Prisma y definir las relaciones necesarias.  
**‚úÖ Criterios de Aceptaci√≥n:**

- Esquema debe reflejar todos los campos requeridos.
- Relaci√≥n con la tabla de archivos (para CV).
- Generar migraciones para aplicar cambios en PostgreSQL.  
    **üî• Prioridad:** Alta  
    **‚è≥ Tiempo Estimado:** 3 horas

8Ô∏è‚É£ **[Migraciones] Ejecutar y Validar Migraciones**  
**üìÑ Descripci√≥n:** Aplicar las migraciones de Prisma en PostgreSQL.  
**‚úÖ Criterios de Aceptaci√≥n:**

- Migraciones aplicadas sin errores.
- Base de datos correctamente estructurada.
- Validar conexi√≥n con Prisma Studio.  
    **üî• Prioridad:** Alta  
    **‚è≥ Tiempo Estimado:** 2 horas


### üöÄ  Estructuraci√≥n del Sprint en Trello

Para manejar mejor las tareas, vamos a estructurar estos tickets en **Trello**. üìå

---

## **üìù Configuraci√≥n del Sprint en Trello**

1Ô∏è‚É£ **Crea un nuevo tablero en Trello** üèóÔ∏è

- Nombre del tablero: **Sprint - A√±adir Candidato LTI**
- Agregar las siguientes listas:
    - **Backlog** (Tareas pendientes)
    - **En proceso** (Lo que se est√° trabajando)
    - **En revisi√≥n** (Pendiente de pruebas o feedback)
    - **Completado** (Listo üéâ)

2Ô∏è‚É£ **Crear las tarjetas para cada tarea**  
Copia y pega cada uno de los tickets que definimos antes en sus respectivas tarjetas dentro de **Backlog**.

3Ô∏è‚É£ **Asignar prioridades** üî•

- Etiqueta **Alta**: Backend API, Validaciones, Modelo Prisma y Migraciones.
- Etiqueta **Media**: UI del Formulario, Subida de CV.
- Etiqueta **Baja**: Vista de Confirmaci√≥n.

4Ô∏è‚É£ **Asignar tiempos estimados** ‚è≥

- Puedes usar **checklists** dentro de cada tarjeta para desglosar tareas espec√≠ficas.

5Ô∏è‚É£ **Compartir el tablero** üì§

- Si necesitas colaborar con alguien m√°s, agr√©galo al equipo.

---

### ‚úÖ **¬°Listo el Sprint en Trello! Ahora seguimos con la implementaci√≥n del backend.**

---

### üöÄ **Paso 2: Implementaci√≥n del Backend**

#### **üõ†Ô∏è Configuraci√≥n Inicial**

Asegur√©monos de tener todo listo antes de escribir c√≥digo:

‚úÖ **Base de datos PostgreSQL corriendo y accesible.**  
‚úÖ **Prisma instalado y configurado.**  
‚úÖ **Estructura del backend en Express lista.**

---

#### **1Ô∏è‚É£ Definir el Modelo de Prisma**

Vamos a definir la estructura de la tabla de **Candidatos** en `prisma/schema.prisma`.

`model Candidato {`
  `id          String  @id @default(uuid())`
  `nombre      String`
  `apellido    String`
  `email       String  @unique`
  `telefono    String?`
  `direccion   String?`
  `educacion   String?`
  `experiencia String?`
  `cvUrl       String?`  
  `createdAt   DateTime @default(now())`
`}`


üíæ **Ejecutar migraciones en PostgreSQL**

npx prisma migrate dev --name init

---

#### **2Ô∏è‚É£ Crear el Endpoint en Express**

Edita `backend/src/index.ts` y agrega lo siguiente:

`import express from "express";`
`import { PrismaClient } from "@prisma/client";`
`import dotenv from "dotenv";`

`dotenv.config();`
`const prisma = new PrismaClient();`
`const app = express();`

`app.use(express.json());`

`app.post("/api/candidatos", async (req, res) => {`
  `try {`
    `const candidato = await prisma.candidato.create({`
      `data: req.body,`
    `});`
    `res.status(201).json({ message: "Candidato agregado con √©xito", candidato });`
  `} catch (error) {`
    `res.status(500).json({ error: "Error al a√±adir candidato" });`
  `}`
`});`

`app.listen(3010, () => console.log("üöÄ Backend corriendo en http://localhost:3010"));`


---

#### **3Ô∏è‚É£ Probar el Endpoint**

Ejecuta el backend:

`npm run dev`

Env√≠a una solicitud con `Postman` o `cURL`:

`curl -X POST http://localhost:3010/api/candidatos -H "Content-Type: application/json" -d '{`
  `"nombre": "Juan",`
  `"apellido": "P√©rez",`
  `"email": "juan.perez@example.com",`
  `"telefono": "3001234567",`
  `"direccion": "Calle 123",`
  `"educacion": "Ingenier√≠a",`
  `"experiencia": "5 a√±os"`
`}'`

üìå **Si todo est√° bien, deber√≠as recibir un mensaje de √©xito.**


### üöÄ **Paso 3: Validaci√≥n de Datos y Subida de Archivos**

Ahora vamos a asegurarnos de que los datos ingresados sean correctos y permitir la subida de archivos (CV en PDF o DOCX).
## **1Ô∏è‚É£ Validaci√≥n de Datos con Zod** üõ°Ô∏è

Vamos a usar **Zod** para validar la entrada de datos antes de guardarla en la base de datos.

üìå **Instalar Zod**

`npm install zod`

üìå **Actualizar `index.ts` para incluir validaciones**

`import express from "express";`
`import { PrismaClient } from "@prisma/client";`
`import dotenv from "dotenv";`
`import { z } from "zod";`

`dotenv.config();`
`const prisma = new PrismaClient();`
`const app = express();`

`app.use(express.json());`

`// Definir el esquema de validaci√≥n con Zod`
`const candidatoSchema = z.object({`
  `nombre: z.string().min(2, "El nombre debe tener al menos 2 caracteres"),`
  `apellido: z.string().min(2, "El apellido debe tener al menos 2 caracteres"),`
  `email: z.string().email("El email debe ser v√°lido"),`
  `telefono: z.string().optional(),`
  `direccion: z.string().optional(),`
  `educacion: z.string().optional(),`
  `experiencia: z.string().optional(),`
  `cvUrl: z.string().optional(),`
`});`

`// Endpoint para agregar candidato con validaci√≥n`
`app.post("/api/candidatos", async (req, res) => {`
  `try {`
    `const validData = candidatoSchema.parse(req.body);`
    `const candidato = await prisma.candidato.create({`
      `data: validData,`
    `});`
    `res.status(201).json({ message: "Candidato agregado con √©xito", candidato });`
  `} catch (error) {`
    `if (error instanceof z.ZodError) {`
      `return res.status(400).json({ error: error.errors });`
    `}`
    `res.status(500).json({ error: "Error al a√±adir candidato" });`
  `}`
`});`

`app.listen(3010, () => console.log("üöÄ Backend corriendo en http://localhost:3010"));`

üìå **Prueba enviando datos inv√°lidos**  
Si intentas enviar un correo inv√°lido o un nombre corto, recibir√°s un error con el mensaje adecuado.

üìå **Instalar Multer**

`npm install multer`

üìå **Actualizar `index.ts` para manejar archivos**

`import multer from "multer";`

`// Configuraci√≥n de Multer`
`const storage = multer.diskStorage({`
  `destination: (req, file, cb) => {`
    `cb(null, "uploads/"); // Carpeta donde se guardar√°n los archivos`
  `},`
  `filename: (req, file, cb) => {`
    `cb(null, ${Date.now()}-${file.originalname});`
  `},`
`});`

`const upload = multer({`
  `storage,`
  `fileFilter: (req, file, cb) => {`
    `const allowedMimeTypes = ["application/pdf", "application/msword", "application/vnd.openxmlformats-officedocument.wordprocessingml.document"];`
    `if (allowedMimeTypes.includes(file.mimetype)) {`
      `cb(null, true);`
    `} else {`
      `cb(new Error("Formato de archivo no permitido. Solo PDF o DOCX."));`
    `}`
  `},`
`});`

`// Modificar el endpoint para incluir subida de archivos`
`app.post("/api/candidatos", upload.single("cv"), async (req, res) => {`
  `try {`
    `const validData = candidatoSchema.parse(req.body);`
    `const cvUrl = req.file ? /uploads/${req.file.filename} : null;`

    `const candidato = await prisma.candidato.create({`
      `data: { ...validData, cvUrl },`
    `});`

    `res.status(201).json({ message: "Candidato agregado con √©xito", candidato });`
  `} catch (error) {`
    `if (error instanceof z.ZodError) {`
      `return res.status(400).json({ error: error.errors });`
    `}`
    `res.status(500).json({ error: "Error al a√±adir candidato" });`
  `}`
`});`

üìå **Prueba subiendo un CV**  
Usa **Postman** o `cURL` para enviar un archivo:

`curl -X POST http://localhost:3010/api/candidatos -H "Content-Type: multipart/form-data" \`
`-F "nombre=Juan" -F "apellido=P√©rez" -F "email=juan.perez@example.com" \`
`-F "cv=@ruta/del/archivo.pdf"`

üìå **Resultado esperado:**  
Si todo sale bien, el CV se guardar√° en la carpeta `uploads/` y se registrar√° la ruta en la base de datos.

### üé® ** Implementar el Frontend** (React + Formulario de Candidatos)

Ahora vamos a construir el frontend en **React** para permitir que los reclutadores puedan agregar candidatos de forma f√°cil.

---

## **1Ô∏è‚É£ Configurar el Proyecto React**

Si a√∫n no lo tienes, crea un nuevo proyecto React con Vite.

üìå **Crea el proyecto en la carpeta `frontend`**

`cd C:\Proyectos\Tareas\AI4Devs-lab-ides\`
`npx create-vite@latest frontend --template react`
`cd frontend`
`npm install`


üìå **Instalar dependencias necesarias**

`npm install axios react-hook-form`

üìå **Estructura del Proyecto**

`frontend/`
`‚îÇ‚îÄ‚îÄ src/`
`‚îÇ   ‚îú‚îÄ‚îÄ components/`
`‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CandidateForm.tsx`
`‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CandidateList.tsx`
`‚îÇ   ‚îú‚îÄ‚îÄ App.tsx`
`‚îÇ   ‚îú‚îÄ‚îÄ main.tsx`
`‚îÇ‚îÄ‚îÄ public/`
`‚îÇ‚îÄ‚îÄ package.json`
`‚îÇ‚îÄ‚îÄ vite.config.ts`


---

## **2Ô∏è‚É£ Crear el Formulario para A√±adir Candidatos**

üìå **Archivo:** `src/components/CandidateForm.tsx`

`import { useState } from "react";`
`import { useForm } from "react-hook-form";`
`import axios from "axios";`

`const CandidateForm = () => {`
  `const { register, handleSubmit, reset } = useForm();`
  `const [message, setMessage] = useState("");`

  `const onSubmit = async (data: any) => {`
    `try {`
      `const formData = new FormData();`
      `for (const key in data) {`
        `formData.append(key, data[key]);`
      `}`

      `const response = await axios.post("http://localhost:3010/api/candidatos", formData, {`
        `headers: { "Content-Type": "multipart/form-data" },`
      `});`

      `setMessage("Candidato agregado con √©xito");`
      `reset();`
    `} catch (error) {`
      `setMessage("Error al a√±adir candidato");`
    `}`
  `};`

  `return (`
    `<div>`
      `<h2>A√±adir Candidato</h2>`
      `<form onSubmit={handleSubmit(onSubmit)}>`
        `<input type="text" placeholder="Nombre" {...register("nombre")} required />`
        `<input type="text" placeholder="Apellido" {...register("apellido")} required />`
        `<input type="email" placeholder="Correo" {...register("email")} required />`
        `<input type="tel" placeholder="Tel√©fono" {...register("telefono")} />`
        `<input type="text" placeholder="Direcci√≥n" {...register("direccion")} />`
        `<input type="text" placeholder="Educaci√≥n" {...register("educacion")} />`
        `<input type="text" placeholder="Experiencia" {...register("experiencia")} />`
        `<input type="file" {...register("cv")} accept=".pdf,.doc,.docx" />`
        `<button type="submit">Enviar</button>`
      `</form>`
      `{message && <p>{message}</p>}`
    `</div>`
  `);`
`};`

`export default CandidateForm;`


---

## **3Ô∏è‚É£ Crear la P√°gina Principal y Renderizar el Formulario**

üìå **Archivo:** `src/App.tsx`


`import CandidateForm from "./components/CandidateForm";`

`function App() {`
  `return (`
    `<div>`
      `<h1>Sistema de Gesti√≥n de Candidatos</h1>`
      `<CandidateForm />`
    `</div>`
  `);`
`}`

`export default App;`

---

## **4Ô∏è‚É£ Configurar y Levantar el Servidor**

üìå **Levantar el frontend**

`cd frontend npm run dev`

üìå **Resultado esperado:**  
üåê **Abre el navegador en** `http://localhost:5173` y ver√°s el formulario funcionando.

### üé® Visualizar la Lista de Candidatos en el Frontend** (React + Axios)

Ahora vamos a implementar una vista donde los reclutadores puedan ver la lista de candidatos almacenados en el sistema. Esto implica consumir la API REST que ya creamos en el backend.

---

## **1Ô∏è‚É£ Crear el Componente para Listar Candidatos**

üìå **Archivo:** `src/components/CandidateList.tsx`

`import { useState, useEffect } from "react";`
`import axios from "axios";`

`const CandidateList = () => {`
  `const [candidates, setCandidates] = useState([]);`

  `useEffect(() => {`
    `axios`
      `.get("http://localhost:3010/api/candidatos")`
      `.then((response) => {`
        `setCandidates(response.data);`
      `})`
      `.catch((error) => {`
        `console.error("Error al obtener candidatos:", error);`
      `});`
  `}, []);`

  `return (`
    `<div>`
      `<h2>Lista de Candidatos</h2>`
      `<ul>`
        `{candidates.map((candidate: any, index) => (`
          `<li key={index}>`
            `<strong>{candidate.nombre} {candidate.apellido}</strong> - {candidate.email}`
          `</li>`
        `))}`
      `</ul>`
    `</div>`
  `);`
`};`

`export default CandidateList;`


---

## **2Ô∏è‚É£ Integrar la Lista de Candidatos en la P√°gina Principal**

üìå **Modificar `src/App.tsx` para incluir la visualizaci√≥n de candidatos.**

`import CandidateForm from "./components/CandidateForm";`
`import CandidateList from "./components/CandidateList";`

`function App() {`
  `return (`
    `<div>`
      `<h1>Sistema de Gesti√≥n de Candidatos</h1>`
      `<CandidateForm />`
      `<CandidateList />`
    `</div>`
  `);`
`}`

`export default App;`

---

## **3Ô∏è‚É£ Levantar el Proyecto y Ver los Candidatos**

üìå **Levantar el frontend**

`cd frontend`
`npm run dev`

üìå **Ver la aplicaci√≥n en:**  
üåê **[http://localhost:5173](http://localhost:5173)**

üìå **Resultado esperado:**  
‚úÖ **Deber√≠as ver la lista de candidatos que has ingresado.**

### ** Validaci√≥n de Datos en el Formulario y Carga de Documentos**

Ahora vamos a mejorar el formulario agregando validaciones para asegurar que los datos ingresados sean correctos y permitiremos la carga de documentos (CV en PDF o DOCX).

---

## **1Ô∏è‚É£ Agregar Validaciones al Formulario**

üìå **Modificar `src/components/CandidateForm.tsx`**

`import { useState } from "react";`
`import axios from "axios";`

`const CandidateForm = () => {`
  `const [formData, setFormData] = useState({`
    `nombre: "",`
    `apellido: "",`
    `email: "",`
    `telefono: "",`
    `direccion: "",`
    `educacion: "",`
    `experiencia: "",`
    `cv: null as File | null,` 
  `});`

  `const [errors, setErrors] = useState({`
    `nombre: "",`
    `apellido: "",`
    `email: "",`
    `telefono: "",`
    `direccion: "",`
    `educacion: "",`
    `experiencia: "",`
    `cv: "",`
  `});`

  `const validateForm = () => {`
    `let newErrors = { ...errors };`
    `let isValid = true;`

    `if (!formData.nombre.trim()) {`
      `newErrors.nombre = "El nombre es obligatorio.";`
      `isValid = false;`
    `} else {`
      `newErrors.nombre = "";`
    `}`

    `if (!formData.apellido.trim()) {`
      `newErrors.apellido = "El apellido es obligatorio.";`
      `isValid = false;`
    `} else {`
      `newErrors.apellido = "";`
    `}`

    `const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;`
    `if (!formData.email.trim() || !emailRegex.test(formData.email)) {`
      `newErrors.email = "Correo inv√°lido.";`
      `isValid = false;`
    `} else {`
      `newErrors.email = "";`
    `}`

    `if (!formData.telefono.trim() || formData.telefono.length < 7) {`
      `newErrors.telefono = "N√∫mero de tel√©fono inv√°lido.";`
      `isValid = false;`
    `} else {`
      `newErrors.telefono = "";`
    `}`

    `if (!formData.cv) {`
      `newErrors.cv = "Debe adjuntar un CV en formato PDF o DOCX.";`
      `isValid = false;`
    `} else {`
      `newErrors.cv = "";`
    `}`

    `setErrors(newErrors);`
    `return isValid;`
  `};`

  `const handleChange = (e: any) => {`
    `const { name, value } = e.target;`
    `setFormData({ ...formData, [name]: value });`
  `};`

  `const handleFileChange = (e: any) => {`
    `const file = e.target.files[0];`
    `if (file && (file.type === "application/pdf" || file.type === "application/vnd.openxmlformats-officedocument.wordprocessingml.document")) {`
      `setFormData({ ...formData, cv: file });`
      `setErrors({ ...errors, cv: "" });`
    `} else {`
      `setErrors({ ...errors, cv: "Formato inv√°lido. Solo PDF o DOCX." });`
    `}`
  `};`

  `const handleSubmit = async (e: any) => {`
    `e.preventDefault();`
    `if (!validateForm()) return;`

    `const formDataToSend = new FormData();`
    `formDataToSend.append("nombre", formData.nombre);`
    `formDataToSend.append("apellido", formData.apellido);`
    `formDataToSend.append("email", formData.email);`
    `formDataToSend.append("telefono", formData.telefono);`
    `formDataToSend.append("direccion", formData.direccion);`
    `formDataToSend.append("educacion", formData.educacion);`
    `formDataToSend.append("experiencia", formData.experiencia);`
    `formDataToSend.append("cv", formData.cv as Blob);`

    `try {`
      `await axios.post("http://localhost:3010/api/candidatos", formDataToSend, {`
        `headers: { "Content-Type": "multipart/form-data" },`
      `});`
      `alert("Candidato agregado con √©xito.");`
      `setFormData({ nombre: "", apellido: "", email: "", telefono: "", direccion: "", educacion: "", experiencia: "", cv: null });`
    `} catch (error) {`
      `console.error("Error al enviar el formulario:", error);`
    `}`
  `};`

  `return (`
    `<div>`
      `<h2>A√±adir Candidato</h2>`
      `<form onSubmit={handleSubmit}>`
        `<input type="text" name="nombre" placeholder="Nombre" value={formData.nombre} onChange={handleChange} />`
        `<span>{errors.nombre}</span>`
        
        `<input type="text" name="apellido" placeholder="Apellido" value={formData.apellido} onChange={handleChange} />`
        `<span>{errors.apellido}</span>`
        
        `<input type="email" name="email" placeholder="Correo electr√≥nico" value={formData.email} onChange={handleChange} />`
        `<span>{errors.email}</span>`
        
        `<input type="text" name="telefono" placeholder="Tel√©fono" value={formData.telefono} onChange={handleChange} />`
        `<span>{errors.telefono}</span>`
        
        `<input type="text" name="direccion" placeholder="Direcci√≥n" value={formData.direccion} onChange={handleChange} />`
        
        `<input type="text" name="educacion" placeholder="Educaci√≥n" value={formData.educacion} onChange={handleChange} />`
        
        `<input type="text" name="experiencia" placeholder="Experiencia" value={formData.experiencia} onChange={handleChange} />`
        
        `<input type="file" accept=".pdf,.docx" onChange={handleFileChange} />`
        `<span>{errors.cv}</span>`
        
        `<button type="submit">A√±adir Candidato</button>`
      `</form>`
    `</div>`
  `);`
`};`

`export default CandidateForm;`

---

## **2Ô∏è‚É£ Backend: Manejo de Archivos (Carga de CVs)**

üìå **Modificar `src/routes/candidatos.ts` para permitir subir archivos**

`import express from "express";`
`import multer from "multer";`
`import path from "path";`
`import prisma from "../prismaClient";` 

`const router = express.Router();`

`const storage = multer.diskStorage({`
  `destination: (req, file, cb) => {`
    `cb(null, "uploads/");`
  `},`
  `filename: (req, file, cb) => {`
    `cb(null, Date.now() + path.extname(file.originalname));`
  `},`
`});`

`const upload = multer({ storage });`

`router.post("/", upload.single("cv"), async (req, res) => {`
  `try {`
    `const { nombre, apellido, email, telefono, direccion, educacion, experiencia } = req.body;`
    `const cvPath = req.file ? req.file.path : null;`

    `const candidato = await prisma.candidato.create({`
      `data: { nombre, apellido, email, telefono, direccion, educacion, experiencia, cv: cvPath },`
    `});`

    `res.status(201).json(candidato);`
  `} catch (error) {`
    `res.status(500).json({ error: "Error al guardar el candidato." });`
  `}`
`});`

`export default router;`


---

## **3Ô∏è‚É£ Verificar que Todo Funciona**

üìå **Ejecutar Backend**

`cd backend`
`npm run dev`


üìå **Ejecutar Frontend**

`cd frontend npm run dev`

üìå **Prueba el formulario**

1. **Llena los datos**
2. **Sube un CV en formato PDF o DOCX**
3. **Haz clic en ‚ÄúA√±adir Candidato‚Äù**
4. **El candidato debe aparecer en la lista**
5. **El archivo se guardar√° en la carpeta `uploads/`**



### ‚úÖ Confirmaci√≥n de A√±adido y Manejo de Errores**

Ahora agregaremos una **confirmaci√≥n de √©xito** cuando se agregue un candidato correctamente y un **manejo de errores** para notificar al usuario en caso de fallos.

---

## **1Ô∏è‚É£ Confirmaci√≥n de A√±adido en el Frontend**

üìå **Modificar `src/components/CandidateForm.tsx` para incluir mensajes de √©xito/error**

`import { useState } from "react";`
`import axios from "axios";`

`const CandidateForm = () => {`
  `const [formData, setFormData] = useState({`
    `nombre: "",`
    `apellido: "",`
    `email: "",`
    `telefono: "",`
    `direccion: "",`
    `educacion: "",`
    `experiencia: "",`
    `cv: null as File | null,` 
  `});`

  `const [errors, setErrors] = useState({`
    `nombre: "",`
    `apellido: "",`
    `email: "",`
    `telefono: "",`
    `cv: "",`
  `});`

  `const [mensaje, setMensaje] = useState(""); // Estado para mostrar mensaje de confirmaci√≥n o error`

  `const validateForm = () => {`
    `let newErrors = { ...errors };`
    `let isValid = true;`

    `if (!formData.nombre.trim()) {`
      `newErrors.nombre = "El nombre es obligatorio.";`
      `isValid = false;`
    `} else {`
      `newErrors.nombre = "";`
    `}`

    `if (!formData.apellido.trim()) {`
      `newErrors.apellido = "El apellido es obligatorio.";`
      `isValid = false;`
    `} else {`
      `newErrors.apellido = "";`
    `}`

    `const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;`
    `if (!formData.email.trim() || !emailRegex.test(formData.email)) {`
      `newErrors.email = "Correo inv√°lido.";`
      `isValid = false;`
    `} else {`
      `newErrors.email = "";`
    `}`

    `if (!formData.telefono.trim() || formData.telefono.length < 7) {`
      `newErrors.telefono = "N√∫mero de tel√©fono inv√°lido.";`
      `isValid = false;`
    `} else {`
      `newErrors.telefono = "";`
    `}`

    `if (!formData.cv) {`
      `newErrors.cv = "Debe adjuntar un CV en formato PDF o DOCX.";`
      `isValid = false;`
    `} else {`
      `newErrors.cv = "";`
    `}`

    `setErrors(newErrors);`
    `return isValid;`
  `};`

  `const handleChange = (e: any) => {`
    `const { name, value } = e.target;`
    `setFormData({ ...formData, [name]: value });`
  `};`

  `const handleFileChange = (e: any) => {`
    `const file = e.target.files[0];`
    `if (file && (file.type === "application/pdf" || file.type === "application/vnd.openxmlformats-officedocument.wordprocessingml.document")) {`
      `setFormData({ ...formData, cv: file });`
      `setErrors({ ...errors, cv: "" });`
    `} else {`
      `setErrors({ ...errors, cv: "Formato inv√°lido. Solo PDF o DOCX." });`
    `}`
  `};`

  `const handleSubmit = async (e: any) => {`
    `e.preventDefault();`
    `if (!validateForm()) return;`

    `const formDataToSend = new FormData();`
    `formDataToSend.append("nombre", formData.nombre);`
    `formDataToSend.append("apellido", formData.apellido);`
    `formDataToSend.append("email", formData.email);`
    `formDataToSend.append("telefono", formData.telefono);`
    `formDataToSend.append("direccion", formData.direccion);`
    `formDataToSend.append("educacion", formData.educacion);`
    `formDataToSend.append("experiencia", formData.experiencia);`
    `formDataToSend.append("cv", formData.cv as Blob);`

    `try {`
      `await axios.post("http://localhost:3010/api/candidatos", formDataToSend, {`
        `headers: { "Content-Type": "multipart/form-data" },`
      `});`
      `setMensaje("‚úÖ Candidato agregado con √©xito.");`
      `setFormData({ nombre: "", apellido: "", email: "", telefono: "", direccion: "", educacion: "", experiencia: "", cv: null });`
    `} catch (error) {`
      `setMensaje("‚ùå Error al agregar candidato. Intenta de nuevo.");`
      `console.error("Error al enviar el formulario:", error);`
    `}`
  `};`

  `return (`
    `<div>`
      `<h2>A√±adir Candidato</h2>`
      `{mensaje && <p style={{ color: mensaje.includes("‚úÖ") ? "green" : "red" }}>{mensaje}</p>}`
      `<form onSubmit={handleSubmit}>`
        `<input type="text" name="nombre" placeholder="Nombre" value={formData.nombre} onChange={handleChange} />`
        `<span>{errors.nombre}</span>`
        
        `<input type="text" name="apellido" placeholder="Apellido" value={formData.apellido} onChange={handleChange} />`
        `<span>{errors.apellido}</span>`
        
        `<input type="email" name="email" placeholder="Correo electr√≥nico" value={formData.email} onChange={handleChange} />`
        `<span>{errors.email}</span>`
        
        `<input type="text" name="telefono" placeholder="Tel√©fono" value={formData.telefono} onChange={handleChange} />`
        `<span>{errors.telefono}</span>`
        
        `<input type="text" name="direccion" placeholder="Direcci√≥n" value={formData.direccion} onChange={handleChange} />`
        
        `<input type="text" name="educacion" placeholder="Educaci√≥n" value={formData.educacion} onChange={handleChange} />`
        
        `<input type="text" name="experiencia" placeholder="Experiencia" value={formData.experiencia} onChange={handleChange} />`
        
        `<input type="file" accept=".pdf,.docx" onChange={handleFileChange} />`
        `<span>{errors.cv}</span>`
        
        `<button type="submit">A√±adir Candidato</button>`
      `</form>`
    `</div>`
  `);`
`};`

`export default CandidateForm;`


---

## **2Ô∏è‚É£ Manejo de Errores en el Backend**

üìå **Modificar `src/routes/candidatos.ts` para capturar y responder errores correctamente**

`import express from "express";`
`import multer from "multer";`
`import path from "path";`
`import prisma from "../prismaClient";` 

`const router = express.Router();`

`const storage = multer.diskStorage({`
  `destination: (req, file, cb) => {`
    `cb(null, "uploads/");`
  `},`
  `filename: (req, file, cb) => {`
    `cb(null, Date.now() + path.extname(file.originalname));`
  `},`
`});`

`const upload = multer({ storage });`

`router.post("/", upload.single("cv"), async (req, res) => {`
  `try {`
    `const { nombre, apellido, email, telefono, direccion, educacion, experiencia } = req.body;`
    `if (!nombre || !apellido || !email || !telefono) {`
      `return res.status(400).json({ error: "Todos los campos obligatorios deben estar llenos." });`
    `}`

    `const cvPath = req.file ? req.file.path : null;`

    `const candidato = await prisma.candidato.create({`
      `data: { nombre, apellido, email, telefono, direccion, educacion, experiencia, cv: cvPath },`
    `});`

    `res.status(201).json({ message: "Candidato agregado con √©xito.", candidato });`
  `} catch (error) {`
    `console.error("Error al guardar candidato:", error);`
    `res.status(500).json({ error: "Error interno del servidor." });`
  `}`
`});`

`export default router;`


---

## **3Ô∏è‚É£ Verificar que Todo Funciona**

üìå **Ejecutar Backend**

`cd backend`
`npm run dev`

üìå **Ejecutar Frontend**

`cd frontend`
`npm run dev`


üìå **Prueba el formulario**

1. **Llena los datos**
2. **Sube un CV en formato PDF o DOCX**
3. **Haz clic en ‚ÄúA√±adir Candidato‚Äù**
4. **Debe aparecer un mensaje verde de √©xito**
5. **Si falta un dato, debe aparecer un mensaje de error en rojo**

### ‚úÖ Accesibilidad y Compatibilidad**

Ahora vamos a asegurarnos de que el formulario sea accesible para todos los usuarios y funcione correctamente en diferentes dispositivos y navegadores.

---

## **1Ô∏è‚É£ Accesibilidad en el Frontend**

üìå **Mejoraremos la accesibilidad en `src/components/CandidateForm.tsx`**

üîπ **Mejoras incluidas:** ‚úî Etiquetas `<label>` asociadas a los campos para lectores de pantalla  
‚úî Uso de `aria-live` para mensajes de error y confirmaci√≥n  
‚úî Mejora en el contraste y la navegaci√≥n con teclado

`import { useState } from "react";`
`import axios from "axios";`

`const CandidateForm = () => {`
  `const [formData, setFormData] = useState({`
    `nombre: "",`
    `apellido: "",`
    `email: "",`
    `telefono: "",`
    `direccion: "",`
    `educacion: "",`
    `experiencia: "",`
    `cv: null as File | null,` 
  `});`

  `const [errors, setErrors] = useState({`
    `nombre: "",`
    `apellido: "",`
    `email: "",`
    `telefono: "",`
    `cv: "",`
  `});`

  `const [mensaje, setMensaje] = useState("");` 

  `const validateForm = () => {`
    `let newErrors = { ...errors };`
    `let isValid = true;`

    `if (!formData.nombre.trim()) {`
      `newErrors.nombre = "El nombre es obligatorio.";`
      `isValid = false;`
    `} else {`
      `newErrors.nombre = "";`
    `}`

    `if (!formData.apellido.trim()) {`
      `newErrors.apellido = "El apellido es obligatorio.";`
      `isValid = false;`
    `} else {`
      `newErrors.apellido = "";`
    `}`

    `const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;`
    `if (!formData.email.trim() || !emailRegex.test(formData.email)) {`
      `newErrors.email = "Correo inv√°lido.";`
      `isValid = false;`
    `} else {`
      `newErrors.email = "";`
    `}`

    `if (!formData.telefono.trim() || formData.telefono.length < 7) {`
      `newErrors.telefono = "N√∫mero de tel√©fono inv√°lido.";`
      `isValid = false;`
    `} else {`
      `newErrors.telefono = "";`
    `}`

    `if (!formData.cv) {`
      `newErrors.cv = "Debe adjuntar un CV en formato PDF o DOCX.";`
      `isValid = false;`
    `} else {`
      `newErrors.cv = "";`
    `}`

    `setErrors(newErrors);`
    `return isValid;`
  `};`

  `const handleChange = (e: any) => {`
    `const { name, value } = e.target;`
    `setFormData({ ...formData, [name]: value });`
  `};`

  `const handleFileChange = (e: any) => {`
    `const file = e.target.files[0];`
    `if (file && (file.type === "application/pdf" || file.type === "application/vnd.openxmlformats-officedocument.wordprocessingml.document")) {`
      `setFormData({ ...formData, cv: file });`
      `setErrors({ ...errors, cv: "" });`
    `} else {`
      `setErrors({ ...errors, cv: "Formato inv√°lido. Solo PDF o DOCX." });`
    `}`
  `};`

  `const handleSubmit = async (e: any) => {`
    `e.preventDefault();`
    `if (!validateForm()) return;`

    `const formDataToSend = new FormData();`
    `formDataToSend.append("nombre", formData.nombre);`
    `formDataToSend.append("apellido", formData.apellido);`
    `formDataToSend.append("email", formData.email);`
    `formDataToSend.append("telefono", formData.telefono);`
    `formDataToSend.append("direccion", formData.direccion);`
    `formDataToSend.append("educacion", formData.educacion);`
    `formDataToSend.append("experiencia", formData.experiencia);`
    `formDataToSend.append("cv", formData.cv as Blob);`

    `try {`
      `await axios.post("http://localhost:3010/api/candidatos", formDataToSend, {`
        `headers: { "Content-Type": "multipart/form-data" },`
      `});`
      `setMensaje("‚úÖ Candidato agregado con √©xito.");`
      `setFormData({ nombre: "", apellido: "", email: "", telefono: "", direccion: "", educacion: "", experiencia: "", cv: null });`
    `} catch (error) {`
      `setMensaje("‚ùå Error al agregar candidato. Intenta de nuevo.");`
      `console.error("Error al enviar el formulario:", error);`
    `}`
  `};`

  `return (`
    `<div>`
      `<h2>A√±adir Candidato</h2>`
      `<p role="alert" aria-live="polite" style={{ color: mensaje.includes("‚úÖ") ? "green" : "red" }}>`
        `{mensaje}`
      `</p>`
      `<form onSubmit={handleSubmit}>`
        `<label htmlFor="nombre">Nombre</label>`
        `<input type="text" id="nombre" name="nombre" placeholder="Nombre" value={formData.nombre} onChange={handleChange} />`
        `<span>{errors.nombre}</span>`
        
        `<label htmlFor="apellido">Apellido</label>`
        `<input type="text" id="apellido" name="apellido" placeholder="Apellido" value={formData.apellido} onChange={handleChange} />`
        `<span>{errors.apellido}</span>`
        
        `<label htmlFor="email">Correo electr√≥nico</label>`
        `<input type="email" id="email" name="email" placeholder="Correo electr√≥nico" value={formData.email} onChange={handleChange} />`
        `<span>{errors.email}</span>`
        
        `<label htmlFor="telefono">Tel√©fono</label>`
        `<input type="text" id="telefono" name="telefono" placeholder="Tel√©fono" value={formData.telefono} onChange={handleChange} />`
        `<span>{errors.telefono}</span>`
        
        `<label htmlFor="direccion">Direcci√≥n</label>`
        `<input type="text" id="direccion" name="direccion" placeholder="Direcci√≥n" value={formData.direccion} onChange={handleChange} />`
        
        `<label htmlFor="educacion">Educaci√≥n</label>`
        `<input type="text" id="educacion" name="educacion" placeholder="Educaci√≥n" value={formData.educacion} onChange={handleChange} />`
        
        `<label htmlFor="experiencia">Experiencia</label>`
        `<input type="text" id="experiencia" name="experiencia" placeholder="Experiencia" value={formData.experiencia} onChange={handleChange} />`
        
        `<label htmlFor="cv">Subir CV (PDF o DOCX)</label>`
        `<input type="file" id="cv" accept=".pdf,.docx" onChange={handleFileChange} />`
        `<span>{errors.cv}</span>`
        
        `<button type="submit">A√±adir Candidato</button>`
      `</form>`
    `</div>`
  `);`
`};`

`export default CandidateForm;`


---

## **2Ô∏è‚É£ Pruebas en Diferentes Navegadores**

üìå **Verificar que el formulario se ve bien y funciona correctamente en:**

- ‚úÖ Google Chrome
- ‚úÖ Mozilla Firefox
- ‚úÖ Microsoft Edge
- ‚úÖ Safari (si tienes acceso a Mac)

üìå **Pruebas en Diferentes Dispositivos**

- ‚úÖ **PC y laptops**: Asegurar que la interfaz se adapte correctamente a diferentes resoluciones.
- ‚úÖ **Tabletas**: Revisar que los botones sean f√°cilmente seleccionables.
- ‚úÖ **M√≥viles**: Que el formulario sea **responsivo** y se vea bien en pantallas peque√±as.

### ‚úÖ Seguridad y Privacidad de Datos**

Ahora nos aseguraremos de que los datos de los candidatos est√©n protegidos y que nuestra aplicaci√≥n cumpla con buenas pr√°cticas de seguridad.

---

## **1Ô∏è‚É£ Mejoras en el Backend**

üìå **Ajustaremos el backend para:** ‚úî Evitar inyecciones SQL  
‚úî Asegurar los datos de los candidatos  
‚úî Implementar validaciones en el servidor  
‚úî Manejar errores de manera segura

Abrimos `backend/src/routes/candidatos.ts` y agregamos mejoras:

`import express, { Request, Response } from "express";`
`import multer from "multer";`
`import { PrismaClient } from "@prisma/client";`
`import rateLimit from "express-rate-limit";`
`import helmet from "helmet";`
`import xss from "xss-clean";`
`import dotenv from "dotenv";`

`dotenv.config();`
`const prisma = new PrismaClient();`
`const router = express.Router();`

`// Middleware de seguridad`
`router.use(helmet()); // Configuraci√≥n de seguridad HTTP`
`router.use(xss()); // Evita ataques XSS`

`// Limita la cantidad de solicitudes para prevenir ataques DDoS`
`const limiter = rateLimit({`
  `windowMs: 10 * 60 * 1000, // 10 minutos`
  `max: 100, // M√°ximo 100 peticiones`
`});`
`router.use(limiter);`

`// Configuraci√≥n de almacenamiento de archivos`
`const storage = multer.diskStorage({`
  `destination: (req, file, cb) => {`
    `cb(null, "uploads/");`
  `},`
  `filename: (req, file, cb) => {`
    `cb(null, ${Date.now()}-${file.originalname});`
  `},`
`});`
`const upload = multer({ storage });`

`// Ruta para agregar candidato con validaci√≥n`
`router.post("/", upload.single("cv"), async (req: Request, res: Response) => {`
  `try {`
    `const { nombre, apellido, email, telefono, direccion, educacion, experiencia } = req.body;`
    
    `// Validaciones b√°sicas`
    `if (!nombre || !apellido || !email || !telefono) {`
      `return res.status(400).json({ error: "Faltan datos obligatorios." });`
    `}`

    `// Validar email con expresi√≥n regular`
    `const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;`
    `if (!emailRegex.test(email)) {`
      `return res.status(400).json({ error: "Correo inv√°lido." });`
    `}`

    `// Validar tel√©fono (solo n√∫meros, m√≠nimo 7 d√≠gitos)`
    `const phoneRegex = /^[0-9]{7,}$/;`
    `if (!phoneRegex.test(telefono)) {`
      `return res.status(400).json({ error: "N√∫mero de tel√©fono inv√°lido." });`
    `}`

    `// Guardar en la base de datos`
    `const nuevoCandidato = await prisma.candidato.create({`
      `data: {`
        `nombre,`
        `apellido,`
        `email,`
        `telefono,`
        `direccion,`
        `educacion,`
        `experiencia,`
        `cv: req.file ? req.file.filename : null,`
      `},`
    `});`

    `res.status(201).json({ message: "Candidato agregado con √©xito", candidato: nuevoCandidato });`
  `} catch (error) {`
    `console.error("Error al registrar candidato:", error);`
    `res.status(500).json({ error: "Error interno del servidor" });`
  `}`
`});`

`export default router;`


‚úÖ **Mejoras aplicadas:**

- **Protecci√≥n contra ataques XSS y DDoS**
- **Validaciones en el backend** (nombre, email, tel√©fono, archivos)
- **Almacenamiento seguro de CVs**
- **Manejo de errores mejorado**

---

## **2Ô∏è‚É£ Configuraci√≥n de Variables de Entorno**

üìå **En `backend/.env`, agregamos configuraciones de seguridad:**

`SECRET_KEY=supersecreto123`
`UPLOADS_DIR=uploads/`
`MAX_REQUESTS_PER_MINUTE=100`

‚ö† **Nunca subas este archivo a GitHub.**

---

## **3Ô∏è‚É£ Pruebas de Seguridad**

üìå **Vamos a probar la seguridad del sistema con:**

- **Intentos de SQL Injection** ‚Üí `DROP TABLE candidatos;` (debe bloquearse)
- **Intento de XSS** ‚Üí `<script>alert('Hackeado');</script>` (debe bloquearse)
- **Carga de archivos peligrosos** ‚Üí Intentar subir un `.exe` (debe bloquearse)
- **Ataque de fuerza bruta** ‚Üí Probar m√∫ltiples solicitudes r√°pidas (debe limitarse)

### ‚úÖ **Paso 10: √öltima Validaci√≥n Antes del Pull Request**

üìå **En este paso, vamos a asegurarnos de que todo est√© funcionando perfectamente antes de hacer el `git push` y abrir el Pull Request.**

---

## **1Ô∏è‚É£ Verificaci√≥n Manual del Sistema**

üìå **Vamos a realizar estas pruebas manuales:**

üîπ **Backend:**  
‚úî API en ejecuci√≥n (`npm run dev`)  
‚úî Endpoints funcionales (`curl http://localhost:3010/api/candidatos`)  
‚úî Validaciones de seguridad (email, tel√©fono, archivos)  
‚úî Manejo de errores (`500`, `400`, etc.)

üîπ **Base de Datos:**  
‚úî La tabla de candidatos existe  
‚úî Se est√°n guardando correctamente los datos  
‚úî Verificamos en PostgreSQL:

sql

`SELECT * FROM "Candidatos";`

üîπ **Frontend:**  
‚úî Formulario carga correctamente  
‚úî Se pueden agregar candidatos  
‚úî Mensajes de √©xito/error visibles

---

## **2Ô∏è‚É£ Pruebas Autom√°ticas con Postman**

üìå **Realiza pruebas en Postman para verificar que los endpoints devuelvan las respuestas correctas:**

‚úÖ **GET** `http://localhost:3010/api/candidatos` ‚Üí Lista todos los candidatos  
‚úÖ **POST** `http://localhost:3010/api/candidatos` ‚Üí Crea un candidato  
‚úÖ **Intentar subir un CV inv√°lido** ‚Üí Debe rechazar archivos incorrectos  
‚úÖ **Intentar hacer SQL Injection en el formulario** ‚Üí Debe bloquearlo

Si alguna prueba falla, ajustamos el c√≥digo antes de subirlo.

---

## **3Ô∏è‚É£ Hacemos el Commit y Push Final**

üìå **Si todo est√° bien, subimos los cambios a GitHub:**

